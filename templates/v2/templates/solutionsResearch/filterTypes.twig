{# set filterTypesEncode =  craft.request.getParam('types')|json_encode #}

{% if streamOptions.filterTypes is defined %}

  {% for type_option in streamOptions.filterTypes %}
    <div class="dropMenu dropdown-types">
     <div class="slabel searchLabel">Type</div>
     
      <button class="dropdown-toggle" type="button" id="menuTypes" aria-haspopup="true">
        <span class="dropdown-text-types">Resource Type</span>
        <span class="caret"></span>
      </button>

      <ul class="dropdown-menu dropdown-menu-types" id="listTypes" aria-labelledby="menuTypes">
        {% for relation in type_option.relations %}

          {% if type_option.type == 'type' %}
            {% set type_option_id = relation.handle %}
            {% set type_option_type = 'type' %}
          {% else %}
            {% set type_option_id = relation.id %}
            {% set type_option_type = 'relation' %}
          {% endif %}

          <li class="checkFilter">
           
            <input type="checkbox" name='optionsTypes[]' id="{{ type_option_id }}" class="{{ type_option_type }}_checkbox option justone" value="{{ type_option_id }}"  data-type="{{ type_option.type }}" {% if relacionesArray is defined  %} {% if type_option_id in relacionesArray %}checked{% endif %}{% endif %}/>
           
            <label class="labelTopic" for="{{ type_option_id }}">
              {% if type_option.type == 'type' %}
                {{ relation.name }}
              {% else %}
                {{ relation }}
              {% endif %}
            </label>
            
          </li>
        {% endfor %}
        <li class="applybtn"><button type="Button" class="apply ctaSearch">APPLY</button></li> 
      </ul>
    </div>
  {% endfor %}

{% endif %}


