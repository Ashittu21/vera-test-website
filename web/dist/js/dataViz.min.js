/**
 * @project        vera
 * @author         Brand Industry JZG
 * @build          Wed, Aug 17, 2022 8:13 PM ET
 * @copyright      Copyright (c) 2022, 
 *
 */
"use strict";!function(){var o=window.VERA||{};o.dataViz=o.dataViz||{},o.sm=o.sm||new ScrollMagic.Controller,o.dataViz={colors:["#ef4136","#a05eb5","#68b2d9","#007a69","#005eb8","#bcbdbc","#b0cc1b"],secondaryColors:["#76110a","#4c2857","#194b66"],baselineColor:"#A3A3A3",animationDuration:500,defaultNumberFormat:",",$scrollTarget:$("html,body"),$body:$("body"),scrollPositionY:0,formatTooltip:function(t,r,e){var n,i,o=$(e),a=r.origin.getAttribute("data-tooltip");return a?(n=a.match(/\*(.*?)\*/g),i=a,n.forEach(function(t){var e=t.replace(/\*/g,"");i=i.replace(t,'<span class="value" style="color:'+r.origin.getAttribute("data-color")+'">'+e+"</span>")}),o.find(".title").html(i),o.addClass("statement")):(o.find(".title").text(r.origin.getAttribute("data-label")),o.find(".label-x").text(r.origin.getAttribute("data-x-label")),o.find(".value-x").text(r.origin.getAttribute("data-x")),o.find(".label-y").text(r.origin.getAttribute("data-y-label")),o.find(".value-y").text(r.origin.getAttribute("data-y"))),e},datumExists:function(e,t){Array.isArray(t)||(t=[t]);var r=[];return t.forEach(function(t){t=e[t.column];null==t||"null"===t.toLowerCase()?r.push(!1):r.push(!0)}),-1!==r.indexOf(!0)},datumFilter:function(e,t){if(void 0===t)return!0;Array.isArray(t)||(t=[t]);var r=!0;return t.forEach(function(t){-1===t.values.indexOf(e[t.column])&&(r=!1)}),r},datumExclude:function(e,t){if(void 0===t)return!0;Array.isArray(t)||(t=[t]);var r=!0;return t.forEach(function(t){-1!==t.values.indexOf(e[t.column])&&(r=!1)}),r},makeArray:function(t){return Array.isArray(t)?t:[t]},formatColumns:function(e){var r=this;return["x","y","geography"].forEach(function(t){e[t]=r.makeArray(e[t]),e[t]=_.map(e[t],function(t){if(void 0!==t)return void 0===(t="string"==typeof t?{column:t}:t).format&&(t.format=r.defaultNumberFormat),t})}),e},orderData:function(r,t,n){return _.map(t,function(e){return _.find(n,function(t){return t[r]===e})})},setupNotes:function(t,e){t.html(""),t.text(e)},resizeChart:function(t,e){var r=t.node(),n=r.getBoundingClientRect(),e=e.node().getBoundingClientRect(),e=e.top+e.height-(n.top+n.height)+30,n=(t.style("margin-bottom",e+"px"),r.getAttribute("height")),t=r.getAttribute("width")/n,e=$(r),n=e.parent();e.css({width:n.width(),height:n.width()/t})},setupAjaxOnScroll:function(t){var e,r=new ScrollMagic.Scene({triggerElement:t.$scrollContainer[0],duration:i()}).on("enter",function(){e=setTimeout(function(){t.init(),r.destroy(!0),window.removeEventListener("resize",n)},100)}).on("leave",function(){clearTimeout(e)}).addTo(o.sm);function n(){r.duration(i())}function i(){return t.$scrollContainer.outerHeight(!0)}window.addEventListener("resize",n)}}}();