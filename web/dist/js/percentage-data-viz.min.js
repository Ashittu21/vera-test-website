/**
 * @project        vera
 * @author         Brand Industry JZG
 * @build          Wed, Aug 17, 2022 8:13 PM ET
 * @copyright      Copyright (c) 2022, 
 *
 */
"use strict";!function(f){var t=f.VERA||{};(f.VERA=t).initPercentagePeopleData=function(){$(".percentage-people-visualization:not(.percentage-people-visualization-initialized)").each(function(t,e){function l(){d3.select(d[o]).classed("is-active",!1),++o>=c.length&&(o=0),d3.select(d[o]).classed("is-active",!0);var a=h.percentageHighlighted<c[o].percentageHighlighted;h=c[o],r=[];for(var t=0;t<100;t++)r.push({highlight:t>=100-h.percentageHighlighted});var e=v.selectAll(".point").data(r),i=e.enter().append("path").attr("d",s).attr("class","point receives-fill-color").attr("transform",function(t,e){var i=e%5;return"translate("+(Math.floor(e/5)*p+4)+","+(i*g+4)+")"});e.merge(i).transition().delay(function(t,e,i){return a?20*i.length-20*e:20*e}).attr("class",function(t,e){return"point receives-fill-color"+(t.highlight?" will-highlight receives-fill-highlight":"")}),e.exit().remove()}var n,s,r,c,o,h,p,g,i,a,v,d;n=e,c=JSON.parse(n.dataset.percentagePeopleShifts),h=c[o=0],"person"===(n.classList.add("percentage-people-visualization-initialized"),n.dataset.pointType)&&(s="M18 26V11c0-1.2-1-2.2-2.2-2.2h-4.7l.8-5.1c.1-.2.1-.4.1-.6V3c0-1.6-1.4-3-3-3-1.7 0-3 1.3-3 3v.1c0 .2 0 .4.1.6l.8 5.1H2.2C1 8.8 0 9.8 0 11v16.5c0 1.8.8 2.9 2.3 3.1v-.9C.8 29.5.9 27.5.9 27.5h1.4V12.6h.9v35.6c-.9.3-1.9.8-1.9 1.7h7.3v-19h.9V50h7.3c0-.9-1-1.5-1.9-1.7V12.7h.9v14.8h1.4s.1 2-1.4 2.2v.9c1.5-.2 2.3-1.3 2.3-3.1L18 26z",i=18,a=50),i=20*(p=i+8),a=5*(g=a+8),v=d3.select(n).select(".data-viz-fact-visualization").append("svg").attr("width",i).attr("height",a).attr("viewBox","0 0 "+i+" "+a),d=n.querySelectorAll(".data-viz-fact-caption"),i=$(f),(a={top:i.scrollTop(),left:i.scrollLeft()}).right=a.left+i.width(),a.bottom=a.top+i.height(),d3.select(n).selectAll(".data-viz-fact-caption").attr("style","transition-duration: 3s"),l(c[o]),f.addEventListener("scroll",_.throttle(function(){var t=(e=$(n).parent()).offset().top,e=t+e.outerHeight(),i=$(f).scrollTop(),a=i+$(f).height();i<e&&t-250<a?n.classList.contains("is-animating")||(n.classList.add("is-animating"),n.intervalSet=setInterval(l,3e3)):n.classList.contains("is-animating")&&(n.classList.remove("is-animating"),clearInterval(n.intervalSet))},500))})}}(window);