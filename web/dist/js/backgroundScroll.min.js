/**
 * @project        vera
 * @author         Brand Industry JZG
 * @build          Wed, Aug 17, 2022 8:13 PM ET
 * @copyright      Copyright (c) 2022, 
 *
 */
"use strict";!function(){var b,e,m,h=window.VERA||{},f=(h.sm=h.sm||new ScrollMagic.Controller,h.initBackgroundScroll=function(t){e=$(".background-scroll-container").first(),b=e.find(".background-scroll-images"),e=e.find(".background-scroll-screen"),function(t){o.test(f.attr("class"))||(t.attr("data-color-combo"),w(t.closest("article.article").attr("data-article-theme")))}(t);t=t.find("[data-background-scroll]");m=new TimelineLite({paused:!0,ease:Linear.easeNone}).to(e[0],.5,{autoAlpha:.85},0),m.duration(),t.each(r)},window.VERA=h,$("body")),o=/color-combo--(\S+)/g;function w(t){switch(t){case"black":return"black-white";case"gray":return"gray-black";default:return"white-black"}}function r(o,t){var e,r,a=$(t),c=(a.next(),a.closest(".scroll-section")),n=(g(),d(),w(a.closest("article.article").attr("data-article-theme"))),i=(a.closest(".bg-container").addClass("bg-color color-combo--"+this.getAttribute("data-color-combo")),a.hasClass("background-scroll-trigger-image")?Modernizr.objectfit?(t=this.getAttribute("data-src"),e=this.getAttribute("data-srcset"),(r=$("<img>")).attr("src",t).attr("srcset",e)):(t=this.getAttribute("data-bg-src"),(r=$("<div>")).addClass("bg-image").css({backgroundImage:"url("+t+")"})):r=$("<div>"),b.append(r),TweenLite.to(r[0],.25,{autoAlpha:1,paused:!0,ease:Linear.easeNone})),s=new ScrollMagic.Scene({triggerElement:this,triggerHook:1,offset:1}).addTo(h.sm).on("enter",function(t){i.play(0);var e=a.attr("data-color-combo");"inherit"===e&&(e=n),f.removeClass(function(t,e){return(e.match(/(^|\s)(color-combo--)\S+/g)||[]).join(" ")}),f.addClass("color-combo--"+e),console.log(e,"imagescene "+o)}).on("leave",function(){a.attr("data-color-combo");i.pause(0)}),l=new ScrollMagic.Scene({triggerElement:this,triggerHook:1}).addTo(h.sm).on("start",function(t){"REVERSE"===t.scrollDirection?m.play():m.reverse()}).on("end",function(t){"REVERSE"===t.scrollDirection?m.reverse():m.play()});function d(){return Math.max(c.height(),0)}function g(){return a.height()}function u(){s.duration(d()),l.duration(g())}u(),window.addEventListener("resize",u)}}();