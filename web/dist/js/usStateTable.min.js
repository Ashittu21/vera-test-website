/**
 * @project        vera
 * @author         Dylan Viola, Hyperakt
 * @build          Mon, Feb 14, 2022 8:25 PM ET
 * @copyright      Copyright (c) 2022, 
 *
 */
"use strict";function UsStateTable(t){var a=t.selector,r=t.cmsData,t=t.csvUrl;d3.csv(t,function(t,n){return t?null:(e(),void window.addEventListener("resize",function(){e()}));function e(){var t=function(){if(!window||!window.matchMedia)return 1;if(window.matchMedia("(min-width: 650px)").matches)return 2;return 1}(),e=d3.select(a);e.html(null),_.chunk(n,Math.ceil(n.length/t)).forEach(function(t){return function(t,e){var n=t.append("table").attr("class","table__topx").attr("style","width: auto;").append("tbody"),t=n.append("tr");t.append("th").text("State"),t.append("th").text("PDF"),t.append("th").text("Total Incarceration");e=n.selectAll(".row").data(e).enter().append("tr").attr("class","row");e.append("td").append("div").attr("style","display: flex; justify-content: space-between").html(function(t){var e="",n=r[t.state];return e+=n?'<a href="'+n.url+'">'+t.state_name+"</a>":t.state});e.append("td").attr("style","text-align: center").html(function(t){t=r[t.state];if(t)return'\n            <a class="download" href="'+t.pdfUrl+"\" \n              onclick=\"ga('send','pageview','"+t.pdfUrl+'\')"\n              target="_blank" \n              rel="noopener noreferer">\n              <span class="icon-doc"></span>\n            </a>\n          '});e.append("td").text(function(t){return(+t.total_state_incarceration_2015).toLocaleString(void 0,{maximumFractionDigits:0})})}(e,t)})}})}