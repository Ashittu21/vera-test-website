(function(){var a;new(a=function(){function a(){this.get_active_modal()&&(this.DESKTOP_ONLY&&this.mobile_device()||this.load_dependencies_and_modal())}return a.prototype.DOCUMENT_ROOT="/sanky-modal",a.prototype.SETTINGS={holiday:{start:"11/28/2017 12:01 AM",end:"12/26/2017 12:00 AM",expiration:1,desktop_only:!1,pages:["/"],sections:[],page_exclusions:[],section_exclusions:[]},spring:{start:"03/06/2018 12:01 AM",end:"03/30/2018 11:59 PM",expiration:1,desktop_only:!1,pages:["/"],sections:[],page_exclusions:[],section_exclusions:[]}},a.prototype.get_active_modal=function(){var a,b,c,d,e,f;if(/^\#sn-modal-force/.test(window.location.hash)&&(b=window.location.hash.substr("#sn-modal-force".length+1).replace(/-/g,"_"),this.SETTINGS[b]))return this.assignSettings(b),!0;e=Date.now(),f=this.SETTINGS;for(b in f)if(c=f[b],d=new Date(c.start),a=new Date(c.end),e>d&&e<a)return this.assignSettings(b),!0},a.prototype.assignSettings=function(a){var b;return b=this.SETTINGS[a],this.MODAL_DIR="modals/"+a,this.START_DATE=b.start,this.END_DATE=b.end,this.DESKTOP_ONLY=b.desktop_only,this.EXPIRATION=b.expiration,this.PAGES=b.pages,this.SECTIONS=b.sections,this.PAGE_EXCLUSIONS=b.page_exclusions,this.SECTION_EXCLUSIONS=b.section_exclusions},a.prototype.mobile_device=function(){if(!(window.innerWidth>=800||document.documentElement.clientWidth>=800)||!(window.innerHeight>=621||document.documentElement.clientWidth>=621))return!0},a.prototype.load_dependencies_and_modal=function(){var a;return window.jQuery?this.load_and_launch():(a=document.createElement("script"),a.type="text/javascript",a.src="//code.jquery.com/jquery-1.11.1.min.js",document.getElementsByTagName("head")[0].appendChild(a),a.onreadystatechange=a.onload=function(b){return function(){var c;if(!(c=a.readyState)||/loaded|complete/.test(c))return b.load_and_launch()}}(this))},a.prototype.load_and_launch=function(){var a;return null==this.$&&(this.$=window.jQuery),a=document.createElement("link"),a.setAttribute("type","text/css"),a.setAttribute("rel","stylesheet"),a.setAttribute("href",this.DOCUMENT_ROOT+"/"+this.MODAL_DIR+"/css/modal.css?"+(new Date).getTime()),this.$("head")[0].appendChild(a),this.$.ajax({cache:!1,url:this.DOCUMENT_ROOT+"/"+this.MODAL_DIR+"/markup/modal.html",success:function(a){return function(b){return a.$("body").append(b).append('<div id="sn-modal-backdrop" class="sn-modal-fade" data="sn-modal-close"></div>'),a.bind_removal(),a.launch()}}(this)})},a.prototype.set_cookie=function(a,b,c){var d;return null==a&&(a=1),null==b&&(b="sn_modal"),null==c&&(c="sn_modal"),d=new Date,d.setDate(d.getDate()+a),document.cookie=b+"="+escape(c)+";path=/;domain="+window.location.host.replace(/^www/,"")+";expires="+d.toGMTString()},a.prototype.get_cookie=function(a){var b,c,d;if(null==a&&(a="sn_modal"),document.cookie.length>0&&(a+="=",-1!==(c=document.cookie.indexOf(a))))return d=c+a.length,b=document.cookie.indexOf(";",d),-1===b&&(b=document.cookie.length),unescape(document.cookie.substring(d,b))},a.prototype.no_cookie=function(){if(null==this.get_cookie())return!0},a.prototype.check_dates=function(){var a;return a=new Date,this.START_DATE=new Date(Date.parse(this.START_DATE)),this.END_DATE=new Date(Date.parse(this.END_DATE)),a>=this.START_DATE&&a<=this.END_DATE},a.prototype.check_pages=function(){var a,b,c;for(c=window.location.pathname,b=0;b<this.PAGES.length;)c===this.PAGES[b]&&(a=!0),b++;return null!=a},a.prototype.check_sections=function(){var a,b;for(b=0;b<this.SECTIONS.length;)window.location.href.indexOf(this.SECTIONS[b])>-1&&(a=!0),b++;return null!=a},a.prototype.check_inclusions=function(){return this.check_pages()||this.check_sections()},a.prototype.check_excluded_pages=function(){var a,b,c;for(c=window.location.pathname,b=0;b<this.PAGE_EXCLUSIONS.length;)c===this.PAGE_EXCLUSIONS[b]&&(a=!1),b++;return null!=a},a.prototype.check_excluded_sections=function(){var a,b;for(b=0;b<this.SECTION_EXCLUSIONS.length;)window.location.href.indexOf(this.SECTION_EXCLUSIONS[b])>-1&&(a=!1),b++;return null!=a},a.prototype.check_exclusions=function(){return!this.check_excluded_pages()&&!this.check_excluded_sections()},a.prototype.show_modal=function(){return this.set_cookie(this.EXPIRATION),this.$("#sn-modal, #sn-modal-backdrop").show().addClass("sn-modal-in").trigger("sn-modal.show"),this.$("body").addClass("sn-modal-open")},a.prototype.bind_removal=function(){return this.$("[data=sn-modal-close]").click(function(a){return function(b){return b.preventDefault(),a.remove_modal()}}(this))},a.prototype.remove_modal=function(){return this.$("#sn-modal, #sn-modal-backdrop").removeClass("sn-modal-in").trigger("sn-modal.remove"),this.$("body").removeClass("sn-modal-open")},a.prototype.launch=function(){return/^\#sn-modal-force/.test(window.location.hash)?this.show_modal():this.no_cookie()&&this.check_dates()&&this.check_inclusions()&&this.check_exclusions()?this.show_modal():void 0},a}())}).call(this);